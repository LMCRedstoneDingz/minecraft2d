<!DOCTYPE html>
<html>
  <head>
    <title>Chat Client</title>
    <link rel="stylesheet" href="chatclient.css">
  </head>
  <body>
    <div id="messages">
      <textarea readonly cols=50 rows=4></textarea>
      <input type="text" id="message" disabled>
      <input type="button" id="sendbutton" value="Send" disabled>
    </div>
    <div id="signin">
      <p>Sign In</p>
      <p id="signinerror">Error: Unknown</p>
      <p>Username: <input type="text" id="signinusername" disabled></p>
      <p>Password: <input type="password" id="signinpassword" disabled></p>
      <input type="button" id="signinbutton" value="Sign in" disabled>
    </div>
    <div id="signup">
      <p>Sign Up</p>
      <p id="signuperror">Error: Unknown</p>
      <p>Username: <input type="text" id="signupusername" disabled></p>
      <p>Password: <input type="password" id="signuppassword" disabled></p>
      <p>Confirm Password: <input type="password" id="signupconfirmpassword" disabled></p>
      <input type="button" id="signupbutton" value="Sign up" disabled>
    </div>
    <div id="option">
      <input type="button" id="optionsigninbutton" value="Sign in" disabled>
      <input type="button" id="optionsignupbutton" value="Sign up" disabled>
    </div>
    <script>
      var messages = document.getElementById("messages"),
          signin = document.getElementById("signin"),
          signup = document.getElementById("signup"),
          option = document.getElementById("option");
      
      messages.style.display = "none";
      signin.style.display = "none";
      signup.style.display = "none";
      option.style.display = "block";
      
      var message = document.getElementById("message"),
          sendbutton = document.getElementById("sendbutton"),
          signinerror = document.getElementById("signinerror"),
          signinusername = document.getElementById("signinusername"),
          signinpassword = document.getElementById("signinpassword"),
          signinbutton = document.getElementById("signinbutton"),
          signuperror = document.getElementById("signuperror"),
          signupusername = document.getElementById("signupusername"),
          signuppassword = document.getElementById("signuppassword"),
          signupconfirmpassword = document.getElementById("signupconfirmpassword"),
          signupbutton = document.getElementById("signupbutton"),
          optionsigninbutton = document.getElementById("optionsigninbutton"),
          optionsignupbutton = document.getElementById("optionsignupbutton");
      
      var username = "",
          password = "";
      
      optionsigninbutton.disabled = false;
      optionsignupbutton.disabled = false;
      
      optionsigninbutton.addEventListener("click", function() {
          optionsigninbutton.disabled = true;
          optionsignupbutton.disabled = true;
          
          signinusername.disabled = false;
          signinpassword.disabled = false;
          signinbutton.disabled = false;
          
          option.style.display = "none";
          signin.style.display = "block";
          signinerror.style.display = "none";
      });
      
      optionsignupbutton.addEventListener("click", function() {
          optionsigninbutton.disabled = true;
          optionsignupbutton.disabled = true;
          
          signupusername.disabled = false;
          signuppassword.disabled = false;
          signupconfirmpassword.disabled = false;
          signupbutton.disabled = false;
          
          option.style.display = "none";
          signup.style.display = "block";
          signuperror.style.display = "none";
      });
      
      signinbutton.addEventListener("click", function() {
        signinerror.style.display = "none";  
        if ((signinusername.value.length >= 3 && signinusername.value.length <= 16) && (signinpassword.value.length > 0 && signinpassword.value.length <= 16)) {
              signinusername.disabled = true;
              signinpassword.disabled = true;
              signinbutton.disabled = true;
              
              username = signinusername.innerText;
              password = signinpassword.innerText;
              
              signin.style.display = "none";
              messages.style.display = "block";
          } else {
            if (signinusername.value.length < 3) {
                signinerror.innerText = "Error: Username must be at least 3 characters long.";
            } else if (signinusername.value.length > 16) {
                signinerror.innerText = "Error: Username must be at most 16 characters long.");
            } else if (signinpassword.value.length < 3) {
                signinerror.innerText = "Error: Password must be at least 3 characters long.");
            } else if (signinpassword.value.length > 16) {
                signinerror.innerText = "Error: Password must be at most 16 characters long.");
            }
            signinerror.style.display = "block";
          }
      });
      
      signupbutton.addEventListener("click", function() {
          signuperror.style.display = "none";
          if ((signupusername.value.length >= 3 && signupusername.value.length <= 16) && (signuppassword.value.length > 0 && signuppassword.value.length <= 16) && signuppassword.innerText == signupconfirmpassword.innerText) {
              signupusername.disabled = true;
              signuppassword.disabled = true;
              signupconfirmpassword.disabled = true;
              signupbutton.disabled = true;
              
              username = signupusername.innerText;
              password = signuppassword.innerText;
              
              signup.style.display = "none";
              messages.style.display = "block";
          } else {
            if (signupusername.value.length < 3) {
                signuperror.innerText = "Error: Username must be at least 3 characters long.";
            } else if (signupusername.value.length > 16) {
                signuperror.innerText = "Error: Username must be at most 16 characters long.");
            } else if (signuppassword.value.length < 3) {
                signuperror.innerText = "Error: Password must be at least 3 characters long.");
            } else if (signuppassword.value.length > 16) {
                signuperror.innerText = "Error: Password must be at most 16 characters long.");
            } else if (signuppassword.value != signupconfirmpassword.value) {
                signuperror.innerText = "Error: Passwords don't match.");
            }
            signuperror.style.display = "block";
          }
      });
    </script>
  </body>
</html>
